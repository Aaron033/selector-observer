!function(e){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=function(n,r,i){var s=this;this.target=n,this.selector=r,this.callback=i,this.observer=new t(function(t){setTimeout(function(){var n=s.target.data("contracts");n.forEach(function(e){e.disconnect()});var i=s.selector[0]===">",o=i?s.selector.substr(1):s.selector;t.forEach(function(t){Array.prototype.slice.call(t.addedNodes).forEach(function(t){if(i&&s.target[0]!==e(t).parent()[0])return;e(t).is(o)&&s.callback.call(t);if(i)return;e(r,t).each(function(){s.callback.call(this)})})}),n.forEach(function(e){e.observe()})})}),e(r,n).each(function(){s.callback.call(this)}),this.observe()};n.prototype.disconnect=function(){this.observer.disconnect()},n.prototype.observe=function(){this.observer.observe(this.target[0],{childList:!0,subtree:!0})},e.fn.observe=function(e,t){var r=this.data("contracts");r||(r=[]);var i=r.filter(function(t){return t.selector===e});if(i.length){i[0].callback=t;return}var s=new n(this,e,t);r.push(s),this.data("contracts",r)}}(window.Zepto||window.jQuery);